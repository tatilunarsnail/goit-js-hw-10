{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst datetimePicker = document.getElementById('datetime-picker');\nconst startButton = document.querySelector('[data-start]');\nconst daysSpan = document.querySelector('[data-days]');\nconst hoursSpan = document.querySelector('[data-hours]');\nconst minutesSpan = document.querySelector('[data-minutes]');\nconst secondsSpan = document.querySelector('[data-seconds]');\nlet userSelectedDate = new Date();\nlet countdownInterval;\nstartButton.disabled = true;\n\nflatpickr(datetimePicker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] <= new Date()) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future',\n                position: 'topCenter',\n            });\n            startButton.disabled = true;\n        } else {\n            startButton.disabled = false;\n            userSelectedDate = selectedDates[0];\n            console.log(selectedDates);\n        }\n    },\n});\n\nfunction updateTimer(days, hours, minutes, seconds) {\n    daysSpan.textContent = String(days).padStart(2, '0');\n    hoursSpan.textContent = String(hours).padStart(2, '0');\n    minutesSpan.textContent = String(minutes).padStart(2, '0');\n    secondsSpan.textContent = String(seconds).padStart(2, '0');\n}\n\nfunction calculateTimeRemaining(endTime) {\n    const total = Date.parse(endTime) - Date.now();\n    const seconds = Math.floor((total / 1000) % 60);\n    const minutes = Math.floor((total / 1000 / 60) % 60);\n    const hours = Math.floor((total / (1000 * 60 * 60)) % 24);\n    const days = Math.floor(total / (1000 * 60 * 60 * 24));\n\n    return { total, days, hours, minutes, seconds };\n}\n\nfunction startTimer() {\n    startButton.disabled = true;\n    datetimePicker.disabled = true;\n    if (!userSelectedDate || userSelectedDate <= new Date()) {\n        return;\n    }\n    clearInterval(countdownInterval);\n    countdownInterval = setInterval(() => {\n        const timeRemaining = calculateTimeRemaining(userSelectedDate);\n        if (timeRemaining.total <= 0) {\n            clearInterval(countdownInterval);\n            startButton.disabled = false;\n            datetimePicker.disabled = false;\n        } else {\n            updateTimer(timeRemaining.days, timeRemaining.hours, timeRemaining.minutes, timeRemaining.seconds);\n        }\n    }, 1000);\n}\n\nstartButton.addEventListener(\"click\", startTimer);\n"],"names":["datetimePicker","startButton","daysSpan","hoursSpan","minutesSpan","secondsSpan","userSelectedDate","countdownInterval","flatpickr","selectedDates","iziToast","updateTimer","days","hours","minutes","seconds","calculateTimeRemaining","endTime","total","startTimer","timeRemaining"],"mappings":"+IAKA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EAAmB,IAAI,KACvBC,EACJN,EAAY,SAAW,GAEvBO,EAAUR,EAAgB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACfA,EAAc,CAAC,GAAK,IAAI,MACxBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,WAC1B,CAAa,EACDT,EAAY,SAAW,KAEvBA,EAAY,SAAW,GACvBK,EAAmBG,EAAc,CAAC,EAClC,QAAQ,IAAIA,CAAa,EAEhC,CACL,CAAC,EAED,SAASE,EAAYC,EAAMC,EAAOC,EAASC,EAAS,CAChDb,EAAS,YAAc,OAAOU,CAAI,EAAE,SAAS,EAAG,GAAG,EACnDT,EAAU,YAAc,OAAOU,CAAK,EAAE,SAAS,EAAG,GAAG,EACrDT,EAAY,YAAc,OAAOU,CAAO,EAAE,SAAS,EAAG,GAAG,EACzDT,EAAY,YAAc,OAAOU,CAAO,EAAE,SAAS,EAAG,GAAG,CAC7D,CAEA,SAASC,EAAuBC,EAAS,CACrC,MAAMC,EAAQ,KAAK,MAAMD,CAAO,EAAI,KAAK,MACnCF,EAAU,KAAK,MAAOG,EAAQ,IAAQ,EAAE,EACxCJ,EAAU,KAAK,MAAOI,EAAQ,IAAO,GAAM,EAAE,EAC7CL,EAAQ,KAAK,MAAOK,GAAS,IAAO,GAAK,IAAO,EAAE,EAClDN,EAAO,KAAK,MAAMM,GAAS,IAAO,GAAK,GAAK,GAAG,EAErD,MAAO,CAAE,MAAAA,EAAO,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACjD,CAEA,SAASI,GAAa,CAClBlB,EAAY,SAAW,GACvBD,EAAe,SAAW,GACtB,GAACM,GAAoBA,GAAoB,IAAI,QAGjD,cAAcC,CAAiB,EAC/BA,EAAoB,YAAY,IAAM,CAClC,MAAMa,EAAgBJ,EAAuBV,CAAgB,EACzDc,EAAc,OAAS,GACvB,cAAcb,CAAiB,EAC/BN,EAAY,SAAW,GACvBD,EAAe,SAAW,IAE1BW,EAAYS,EAAc,KAAMA,EAAc,MAAOA,EAAc,QAASA,EAAc,OAAO,CAExG,EAAE,GAAI,EACX,CAEAnB,EAAY,iBAAiB,QAASkB,CAAU"}